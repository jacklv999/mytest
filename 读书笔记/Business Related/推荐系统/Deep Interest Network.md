## Deep Interest Network

#### 问题

推荐系统中常见的问题就是，用户既往行为中的多样性是很难在推荐系统中捕捉和表示的。

#### 示例

比方说，用户过去的 10 个购买行为中，9 个是买化妆品，1 个是买家用电器，那么大面上推荐系统常常认为用户对化妆品的需求数倍于对家用电器的需求，推荐结果会出来一堆化妆品，「家用电器」的推荐结果，则因为打分比较低而排在列表的很后面，在每一次请求出一页（8 个或者 10 个）的情况下，很难刷出来。

#### 传统方法

如果要解决这种问题，常见的一种做法是用各种人工规则做推荐结果的打散，但由于人工规则基本都是拍脑袋来定的，实现相当 hack，而且没有在一个比较大的空间上搜索最优解，效果很难保证。

#### DIN

Deep Interest Network 巧妙地利用了 Attention 机制，来捕捉用户的 local activation，改善这种状况，让推荐结果的 diversity 更好一些。在知乎上有人爆料过，阿里的盖坤在做这个机制设计的时候，还没有接触到 Attention 机制，在做的过程中吸收了 Attention 机制的框架设计，才有了这个模型。

#### 效果

当时我们刚做完知乎首页 CTR 预估模型从 GBDT 到 Deep Network 的切换，在考虑下一步优化方向的时候就想到了利用 Attention 机制来改善推荐效果。

当时还没有了解过 DIN，考虑的是自己设计推荐 CTR 预估中的 Attention 机制，正巧调研的时候发现了 DIN 的这篇论文，前人珠玉在前的情况下，就直接搬过来用了。

在我们的实践中，DIN 的确能够显著提高 CTR 预估的离线 AUC 评估和线上效果。