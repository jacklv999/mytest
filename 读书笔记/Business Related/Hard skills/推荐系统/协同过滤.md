## 协同过滤

之前看到过一篇文章用“**「物以类聚，人以群分」**”来形容协同过滤算法，我觉得非常贴切。

协同过滤算法可以分为基于用户的协同过滤算法和基于商品的协同过滤算法。

**「基于用户的协同过滤算法」**：针对一个特定的用户，在用户集合中筛选出与该特定用户相似的用户群体，然后利用这些相似用户对商品的喜好程度来给特定用户进行商品推荐

**「基于商品的协同过滤算法」**：针对一个特定用户，首先计算商品之间的相似度，然后基于用户对相似商品的打分来预估用户对该商品的喜好程度并进行推荐。

我们首先解释基于用户的协同过滤算法。假设我们现在总共有5个用户和5个商品，我们可以构建用户对商品的行为矩阵

![](data:image/jpeg;base64,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LLw9b291EYpkaTchPTLsR+hFAGvRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAFe3/4+Ln/roP8A0EVYqvb/APHxc/8AXQf+girFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQBWs/uy/wDXZ/51NUNn92X/AK7P/Oph0oAivv8Aj1P+8v8A6EKnFVr4t9kbp95f/QhR5t1/zxi/7+f/AFqALVFVfOuv+eMX/ff/ANajzrr/AJ4xf99//WoAfdWdvfQmG5iWWM9VboadbW0NpCIYIxGg6KOgqLzrr/njF/33/wDWo866/wCeMX/ff/1qALVFVfOuv+eMX/ff/wBajzrr/njF/wB9/wD1qALVFVfOuv8AnjF/33/9ajzrr/njF/33/wDWoAtUVV866/54xf8Aff8A9ajzrr/njF/33/8AWoAtUVV866/54xf99/8A1qPOuv8AnjF/33/9agC1RVXzrr/njF/33/8AWo866/54xf8Aff8A9agB131g/wCuw/rVis+4kuGMO6KMYkGMP1PPtU3nXX/PGL/vv/61AFqkqt511/zxi/77/wDrUeddf88Yv++//rUAWqKq+ddf88Yv++//AK1HnXX/ADxi/wC+/wD61AFqiqvnXX/PGL/vv/61HnXX/PGL/vv/AOtQBaoqr511/wA8Yv8Avv8A+tR511/zxi/77/8ArUAWqKq+ddf88Yv++/8A61HnXX/PGL/vv/61AFqiqvnXX/PGL/vv/wCtR511/wA8Yv8Avv8A+tQBaoqr511/zxi/77/+tR511/zxi/77/wDrUALP/wAflt9W/lVms+WS4NxATFHkFsDf14+lTeddf88Y/wDv5/8AWoAtUVV866/54x/9/P8A61HnXX/PGP8A7+f/AFqALVFVfOuv+eMf/fz/AOtR511/zxj/AO/n/wBagC1RVXzrr/njH/38/wDrUeddf88Y/wDv5/8AWoAtUVV866/54x/9/P8A61HnXX/PGP8A7+f/AFqALVFVfOuv+eMf/fz/AOtR511/zxj/AO/n/wBagC1RVXzrr/njH/38/wDrUeddf88Y/wDv5/8AWoAtUVV866/54x/9/P8A61HnXX/PGP8A7+f/AFqAHH/kIr/1xP8AMVYrPMlx9tVvKj3eWRjfxjI9qm866/54xf8Aff8A9agCzRVbzrr/AJ4xf99//Wo866/54xf99/8A1qALVFVfOuv+eMX/AH3/APWo866/54xf99//AFqALVFVfOuv+eMX/ff/ANajzrr/AJ4xf99//WoAtUVV866/54xf99//AFqPOuv+eMX/AH3/APWoAtUVV866/wCeMX/ff/1qPOuv+eMX/ff/ANagC1RVXzrr/njF/wB9/wD1qPOuv+eMX/ff/wBagC1RVXzrr/njF/33/wDWo866/wCeMX/ff/1qAHR/8f8AN/1zT+tWKz0kuBdyERR7ii5G/wCvtU3nXX/PGP8A7+f/AFqALVFVfOuv+eMf/fz/AOtR511/zxj/AO/n/wBagC1RVXzrr/njH/38/wDrUeddf88Y/wDv5/8AWoAtUVV866/54x/9/P8A61HnXX/PGP8A7+f/AFqALVFVfOuv+eMf/fz/AOtR511/zxj/AO/n/wBagC1RVXzrr/njH/38/wDrUeddf88Y/wDv5/8AWoAtUVV866/54x/9/P8A61HnXX/PGP8A7+f/AFqALVFVfOuv+eMf/fz/AOtR511/zxj/AO/n/wBagB1v/wAfFz/10H/oIqxWfDJcCaciOMkuM5fpwPapvOuv+eMX/ff/ANagC1RVXzrr/njF/wB9/wD1qPOuv+eMX/ff/wBagC1RVXzrr/njF/33/wDWo866/wCeMX/ff/1qALVFVfOuv+eMX/ff/wBajzrr/njF/wB9/wD1qALVFVfOuv8AnjF/33/9ajzrr/njF/33/wDWoAtUVV866/54xf8Aff8A9ajzrr/njF/33/8AWoAtUVV866/54xf99/8A1qPOuv8AnjF/33/9agC1RVXzrr/njF/33/8AWo866/54xf8Aff8A9agBbP7sv/XZ/wCdTDpUFkWMUhIAJlbI/Gphux2oAjvv+PRv95f/AEIU7uabff8AHo3+8v8A6EKd3oAKKQkKCSQAOST2qpaarZ30s0UEuXhAZwylcKejc9j60AXKKhs7yC/tUurWTzIZASrAYyM4qagAooooAKKKKACiiigAooooAKKKKAIbj70P/XUf1qaobj70P/XUf1qagAooooAKKKKACiiigAooooAKKKKACiiigAooooAhm/4+bf6t/Kpqhm/4+bf6t/KpqACimTCRoXELqkhHysy7gD6471lxXN5B4jj09pTcwSWzSszKA0TBsDp2P9KANeiiigAooooAKKKKACii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) 

其中矩阵的每一行代表用户对每个商品的打分，得分的高低代表用户对该商品的喜好程度，上面矩阵中的打分是一个**「显式的打分」**。但是在一些场景下，用户不会对一个商品进行这种显式的打分，比如说用户不会对一个短视频打个具体的分数。在这样的情况下，我们可以构建**「隐式的行为矩阵」**，比如里面的值是用户观看该视频的时长，或者用户是否点击了该视频等等。

在实际的场景中，上面的**「行为矩阵是稀疏的」**。因为商品数目正常来讲很多，而和用户有过交互的商品数目很少。因此一个非常自然的想法就是，对于一个具体的用户$u$，我们首先找到与类似的用户集合$u$，根据这些类似的用户对商品$i$的打分来估计用户$u$对该商品的喜好程度，如果喜好程度的打分很高，我们就可以将该商品$i$推荐给$u$.

因此，上面的想法主要包括如下两个步骤：

- 找到与用户$u$相似的用户
- 根据这些用户对商品$i$的打分来预估用户$u$对$i$的喜好程度

上面两个步骤的具体实现方法有很多，主要可以分为**「基于记忆(Memory based)的协同过滤算法」**和**「基于模型(Model besed)的协同过滤算法」**。 

### **基于记忆的协同过滤算法**

基于记忆的协同过滤算法是直接利用已有行为矩阵中的统计信息来计算用户之间的相似度。

以上面给定的行为矩阵为例，我们首先对每一行进行**「零均值化」**，也就是每一行的值都减去这一行原始值的均值。以$u_1$为例，三个打分的均值为：

![](data:image/jpeg;base64,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) 

那么零均值化之后的用户打分变为：

![](data:image/jpeg;base64,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) 

之后，我们把行为矩阵中的空缺值补0。两个用户之间的相似度用他们之间的余弦距离计算：

![](data:image/jpeg;base64,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7LDeqsYLZ2D7LA2B6ckn6k1P4XeeTwno8l07PcNYwGVmOSzbBkk9zmoNOdWvvEYB5W8UH2P2aE/1qz4c/wCRZ0r/AK84f/QBQBpUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVgSaHdP4attN3xiaK7gmY5O0qlwsp7f3VP41v0UANZVdSrKGU9QRkGkaJCHAG0uMFl4PTHWn0UAZnh/RV0DSIdOS6muViAAeXGcAAAAAADgD6nJOSSaowaFexeE9E0pZYluNP+x+c3VSIim8DjuFIH1roaKACiiigDJt9Lnik11maPGo3HmRYJ4H2eKP5uOPmQ+vGKu6fbva6Za20mC8UKI2ORkAA1ZooAjEUcfzJEoIXaNoAOPSsXRra/u9Zudb1Kwawle3jtord5VkKhWZmbKkjksPf5egreooAzLHTZra71mV2Qrf3IljwegEEUfP4ofwxT9AsJNK8O6bp0zK0tpaRQOy9CVQKSPbitCigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//2Q==) 

至此，我们可以计算用户之间的相似度$s_ij$, 

还是以用户$u_1$为例，当我们想要预测$u_1$对$i_5$的打分时，我们发现给$i_5$打过分的用户有$u_3$和$u_5$. 预测$u_1$对$i_5$的打分为：

![](data:image/jpeg;base64,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1rW0hLTS/E3iTkQ20MFs7EsTtG2Qk5PPrXVVmW/h7SrW8a7htAszZDMXY5zkcgnB6n86AOX8H2ljo/iT7FZpHHBc6Wk1obZt6XEQf/XSttX94dy9jx3Ndpd2kd7AYZWmVSc5hmeJv++lIP61FZaTYafK8trbqkkgCs5JZto6Lk5IUdgOBVygDkG8P2SeN4IxLfkNpsrbm1G4LAiSPgMXyBz0BwePQV09nZxWMRihaZlLbszTvKc/VyTjjpViigDz7xZo99rWsXbf2fe29/bxiPSb2wkZA4IBPnN90KH7YzgHrmtHxPatFeeFLidt94dTghmkUkKwEUpOB0A3c9Ow9BXYVQ1HRNO1WSKS+tvOaE5jO9htPIyMHrgnn3NAHJ619mtfE17rcttYXy6fJbRyRushnj8zao28bcjduAwxOcZXrXd1nHQNLa/W+NqPPUKM722tt+6WXO1ivYkEjsa0aACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/2Q==) 

上面是基于用户的协同过滤过滤算法，当我们使用**「基于商品的协同过滤算法」**时，做法非常类似。我们首先计算商品$i_i$与$i_j$之间的相似度$s_ij$, 当我们需要预估用户$u_1$对商品$i_5$的打分时， 使用其对其他商品的打分：

 ![](data:image/jpeg;base64,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RRQBydx4PvL5ri11DUobzT5737WRPAzzp8wYRo5faijaBwvTPAJzTtZv44/GujnyL147RJ1nljspnjjLqm3LhSv15474rqqKAOFtnkTxQI7GLUIb1tWkNzDLcTNC1rtYmTaQI1BO3BAJzxuPNd1RRQBnatazXL2BhTcIbxJH5AwoDZPP1FaNFFAGJrGkald6pbX9hqUcIhieJ7W4jaSGXdj5iquuSMd89e1Zl1YW3hnw7Y6UUufs8tw/nX9mm1rR23OZAAG2qWyvoAQM111FAHm9vDHa6Loo1mHUrKGC2u4oZ7V54H++uwSJGoId1UNgkAsDwSRjuNBe/k8P6e+qKFvmt0NwB2faM/jmtCigBKo6FbTWfh/TrW4TZNBaxRyLkHDBQCMjjqKv0UAZ+uadNq2jXNhb30ljLMuFuIs7k5B7EHnGDgg4PUVlweHtQt7u81nzLB9YktDbW7xwNFGBnOXJLMxzjn0GMdSekooA83Vr6wOvWj6JNLHcWIizFLMWuHUyCQrJ5IBY72PTJx8oYdOl8KStLc6l9mkupdJV4xaSXUkruzbf3mGkyxXOO+M7q6OigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD//2Q==) 

通常来讲，**「基于商品的协同过滤算法在效率和稳定性上要比基于用户的算法更好」**，主要原因是因为商品之间的相似性变化不会很快，但是用户的喜好可能变化比较快。

但是基于商品的协同过滤算法也有其缺陷。比如用户喜欢过武打类的电影，基于商品的协同过滤算法可能会一直给用户推荐风格相似的电影，从而降低了推荐的多样性。而基于矩阵分解的方法可以有效缓解这个问题，我们在下一节进行介绍。

### **基于模型的协同过滤算法**

基于模型的协同过滤算法主要是利用**「矩阵分解的技术」**来进行商品的推荐。

我们令用户对商品的行为矩阵为 $A_{nm}$，其中m代表用户的数目，n代表商品的数目。我们可以利用矩阵分解技术将行为矩阵$A$分解为两个矩阵$X$和$Y$:

![](data:image/jpeg;base64,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) 

那么$x_i$代表用户$u_i$的表示向量，$y_i$代表商品$i_j$的表示向量，当我们需要预估用户$u_i$对商品$i_j$的打分时，我们只需要计算$x_i$，$y_i$间的内积: 

![](data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAzAPADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD2aiiigAooooAKKKKACimllUqCwBY4AJ6nr/SnUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB5/4h8SeG7y8lN/Y6tcNZxNLC8OFWNUdladDvG0hlK7mwTgbQQee3t7qBrK3n8793MqeW8p2l9w49OT6ViaNpFyvirXNTvLNYYZVhtbNcqQYUBJOB0BZjwfSjXtQng8SaNZSR2L2VxJuInTc6svG8EnC4ZolXgkmT+HA3AHRGRFdYy6h2BKqTycdcfnTLieO1geeZisaDLEKTj8BzWJDNdzeNzBcw2jJBZNJGVj3PAGk2rhzz84QlgAANoHOMnbuI5JYHSKZoHYfLIqglfwPFAGePE2knpcSH/t3k/8AiatWWp2mo7/srs3l43bo2TGc4+8BnpVI6VqxPHiO5H0tof8A4mrFvps/2e4t9Rv5NQinTYVkjRMKQQR8gHXP6UAVbnxNbfaXstLgl1a8Q4eO1xsiOP8AlpISFX6Z3egNXtO/tIxM+p/Zlkc5WK33ERjHQufvn32r9KyYdG1XQIUh0C4huLGIYTT73K7BzwkygkD/AHw/1FbFhetexO0lpcWkkbbGjnUA59QQSGHuDQBj+KfGVv4SRJr7S9RntW2g3NusZjRmJAVizgjp1xjkc1Jp3iuDVtZn0+y069ligkMcl8ojNuDt3cMHyew4HcZxVfxiNYv7M6Lp2jNcwXoWOe8Z4ikKEkN8jsCWAAI4xznkjFYvg3TvFHhRr7QF0g3GlpM7adeyTxKFByf3gDFsZxyBn29ADvldXLBWDbTg4OcH0ps8hhgklWJ5SilhGmNzYHQZwMmsDwpqEt/4cmvo47OW7kkkc/Z4/JExPMbMMnaWQxnkngir2gavLqmgx6hfwLZTK0sdzH5gZY3jdkf5umMoeaAMrTPiBY6mNXCaZqMEmjqTdRzLErAjPAxIR2PJIHB5rb0bVP7Y02O+FldWayjKx3Sqr4IyDhSRzn1rz/VdFi1n4hW0+jXcc2neILHdqPlNlWjidPmz0+bAT/vqu28Uaq2kaNNJHbTykxSFmiJQRIqFmYvg7TgYUYOWKjpkgA2ax9Qu9dsLx5obCHUrAgYigby7mPjnhjtk556oR0wa07VPKtIY90jbEVd0py5wP4j3PrWff6jqQuWs9L0tp5QBuuLh/Kt0z78sx9lGOxIoAfpev6bq7PHazkXEf+ttpkMc0f8AvI2GA98YPY1pVgQeFxcajb6rrl1/aF9bEtBsTyoYCf7igkn6szfhW/QAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVXubG2upI5pYInngyYJXjDNESMEqT0qxRQBk6Jo1xpslzdX+onUL25CK85iEQ2oMKAo4HJYn3Y4AHFa1FFABRRRQAUUUUAFFFFAFe00+zsLQWllaxWtuM4igQRqM9cBcYptvptna6aumwQKlokflCIZxtxgj1P161aooAzdJ8P6XoYkGnWghMpG9y7OzY6DcxJwOw6Cq2u2upanLFpsVvELCR4nuLhpcMFV9zIExzkKo+jH0GduigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP//Z) 

当然，我们利用不同的矩阵分解技术会得到不同的矩阵分解形式。在协同过滤算法中，比较经典的矩阵分解技术包括SVD、PCA等等。现在有很多现成的工具包来帮我们实现这些分解算法。