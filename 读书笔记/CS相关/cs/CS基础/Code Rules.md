## Code Rules

最近参与修改和迁移了数个模型, 在这个过程中接触到很多其他人写的代码. 在修改和扩展这些代码的时候, 遇到了很多问题. 主要原因是这些代码都是公司的 Statistician 写的, 他们并不是专业的 Programmer 或者 Software Engineer, 所以代码规范不够好, 给我的工作带来了很大困扰. 

但是前车之鉴, 后车之师, 见贤思齐, 见不贤而内自省也. 这些代码中出现的很多错误, 也是我会犯的, 所以在此做一下记录, 权当自省. 

##### 1. 松耦合

为了 coding 方便, 我们经常在全局调用各种函数和变量. 但是这种方式会带来高耦合的情况. 

这时, 如果我们需要再次扩充或修改代码的时候, 就只能有两种选择:

- 从写一套逻辑
- 或大肆修改源代码

然而, 这两种方法都是非常低效的. 而更加高效的方法是, 一开始就尽量减少代码的内部耦合. 创建低耦合的代码.

我们的目标是: **松耦合, 一处代码修改, 只需要在同一个地方进行**.

##### 2. 算法与数据分离

将算法和数据混合在一起是一种很方便的方法, 可以加快 coding 的速度. 但是, 这不可避免地造成代码的难以理解和大量的重复代码. 

因此, 为了代码方便理解, 我们需要将代码和数据分离. 

##### 3. 数据检查

为了更快地发现 BUG, 我们需要在每一个算法入口检查好数据, 不仅仅是数据的名称和范围, 还包括数据的类型类, 确保绝对不会出现非法输入.

尤其是在第一步输入数据的时候, 尽量确保数据输入的第一时间就做好数据检查, 不要留在后面.